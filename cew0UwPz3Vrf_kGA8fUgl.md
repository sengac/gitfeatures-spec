Failing to plan is planning to fail, but planning too much too early may be failing to plan without knowing the whole story. Lean kanban tends to focus on just-in-time for highly-skilled teams, scrum tends to focus on goal setting through swarming and sprints. Both generally defer planning (compared to waterfall), but a lot of people don't know how to do planning in these models. When and where are the plans made and stored? How are the plans validated? Planning should start immediately, but it's an art to plan the right amount and not go too far ahead.

For example, anything you think of - add it to the plan for a topic, don't ignore it. However, don't go too far down a path if it is not ready to be done. If you do, you may spend a lot of time planning for something that you don't clearly understand.

In the case of Scrum, if you have planned something (acceptance criteria) and things change during the course of the sprint, the sprint should be cancelled and re-planning should start. This gives flexibility, but can also be hard for management to understand.

Mindmaps are a great way to keep ideas for planning organized.

In the case of Scrum & Basecamp's Shape Up's treatment of planning for acceptance criteria - Lean kanban might leave the final criteria up until it's ready to be worked on, whereas Scrum would require it to be planned and ready before the commencement of the sprint, and a sprint may last for up to 4 weeks. Basecamp spends 2 weeks in planning before even starting. What is better is up to you to decide.